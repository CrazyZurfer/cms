<?php echo Form::open(['route' => ['dev.public-routes.update', $public_route->id], 'method' => 'put']); ?>


<div class="form-group">
	<label>Name</label>
	<input name="name" class="form-control" value="<?php echo $public_route->name; ?>">
	<?php echo $errors->first('name', '<br><div class="alert alert-danger">:message</div>'); ?>

</div>
<div class="form-group">
	<label>Path</label>
	<input name="path" class="form-control" value="<?php echo $public_route->path; ?>">
	<?php echo $errors->first('path', '<br><div class="alert alert-danger">:message</div>'); ?>

</div>
<div class="form-group">
	<label>Function</label>
	<textarea name="function" class="form-control"><?php echo e($public_route->function); ?></textarea>
	<div class="well" id="function"/>
	<?php echo $errors->first('function', '<br><div class="alert alert-danger">:message</div>'); ?>

</div>
<hr>
<div class="pull-right">
	<a class="btn btn-default" href="<?php echo URL::route('dev.public-routes.show', $public_route->id); ?>">Cancel</a>
	<button class="btn btn-primary">Save</button>
</div>

<?php echo Form::close(); ?>


<style type="text/css" media="screen">
    #function { 
        height: 350px;
    }
</style>
<script src="//cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
    var editor = ace.edit("function");
	var textarea = $('textarea[name="function"]').hide();
	editor.getSession().setMode("ace/mode/php");
	editor.getSession().setValue(textarea.val());
	editor.getSession().on('change', function(){
	  textarea.val(editor.getSession().getValue());
	});
</script>
