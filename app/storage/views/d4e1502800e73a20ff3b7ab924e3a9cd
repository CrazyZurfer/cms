<?php echo Form::open(['route' => ['admin.' . $entity->route_name . '.update', $item->id], 'files' => true, 'method' => 'put']); ?>


<?php foreach($entity->attributes as $index => $attribute): ?>
	<?php if($attribute->type == 'string'): ?>
		<div class="form-group">
			<label><?php echo ucfirst($attribute->name); ?></label>
			<input class="form-control" name="<?php echo $attribute->name; ?>" value="<?php echo $item->{$attribute->name}; ?>">
			<?php echo $errors->first($attribute->name, '<br><div class="alert alert-danger">:message</div>'); ?>

		</div>
	<?php endif; ?>
	<?php if($attribute->type == 'text'): ?>
		<div class="form-group">
			<label><?php echo ucfirst($attribute->name); ?></label>
			<textarea class="form-control" name="<?php echo $attribute->name; ?>"><?php echo $item->{$attribute->name}; ?></textarea>
			<?php echo $errors->first($attribute->name, '<br><div class="alert alert-danger">:message</div>'); ?>

		</div>
	<?php endif; ?>
	<?php if($attribute->type == 'integer'): ?>
		<div class="form-group">
			<label><?php echo ucfirst($attribute->name); ?></label>
			<textarea class="form-control" name="<?php echo $attribute->name; ?>"><?php echo $item->{$attribute->name}; ?></textarea>
			<?php echo $errors->first($attribute->name, '<br><div class="alert alert-danger">:message</div>'); ?>

		</div>
	<?php endif; ?>
	<?php if($attribute->type == 'image'): ?>
		<div class="form-group">
			<label><?php echo ucfirst($attribute->name); ?></label>
			<p class="help-block">To change the current image upload a new one</p>
			<div class="row">
				<div class="col-sm-6">
					<div class="fileinput fileinput-new" data-provides="fileinput">
						<div class="fileinput-new thumbnail" style="width: 200px; height: 150px;">
						</div>
						<div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;"></div>
						<div>
							<span class="btn btn-default btn-file">
								<span class="fileinput-new">Select image</span>
								<span class="fileinput-exists">Change</span>
								<input type="file" name="<?php echo $attribute->name; ?>">
							</span>
							<a href="#" class="btn btn-default fileinput-exists" data-dismiss="fileinput">Remove</a>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<?php if($item->{'image_' . $attribute->name}): ?>
						<img class="img-circle pull-right" src="<?php echo asset($item->{'image_' . $attribute->name}->thumbnail_sm); ?>">
					<?php endif; ?>
				</div>
			</div>
			<?php echo $errors->first('file', '<br><div class="alert alert-danger">:message</div>'); ?>

			<?php echo $errors->first($attribute->name, '<br><div class="alert alert-danger">:message</div>'); ?>

		</div>
	<?php endif; ?>
<?php endforeach; ?>

<hr>
<div class="pull-right">
	<a class="btn btn-default" href="<?php echo URL::route('admin.' . $entity->route_name . '.index'); ?>">Cancel</a>
	<button class="btn btn-primary">Save</button>
</div>

<?php echo Form::close(); ?>